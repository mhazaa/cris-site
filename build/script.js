!function(){"use strict";const t=(t,e,i)=>(1-i)*t+i*e,e=async t=>new Promise((e=>{setTimeout((()=>{e()}),t)})),i={x:0,y:0,init:function(){window.addEventListener("mousemove",(t=>{this.x=t.clientX-window.innerWidth/2,this.y=t.clientY-window.innerHeight/2}))}};var s={canvas:document.querySelector("canvas"),masksContainer:document.querySelector(".masks-container"),logo:document.querySelector(".logo"),menu:document.querySelector(".menu"),name:document.querySelector(".name"),tagline:document.querySelector(".tagline"),nav:document.querySelector(".nav"),navButtons:document.querySelector(".nav .buttons"),buttons:{work:document.querySelector(".buttons .workButton"),about:document.querySelector(".buttons .aboutButton"),contact:document.querySelector(".buttons .contactButton")},banners:{work:document.querySelector(".nav .workBanner"),about:document.querySelector(".nav .aboutBanner"),contact:document.querySelector(".nav .contactBanner")},pages:{work:document.querySelector(".page.work"),about:document.querySelector(".page.about"),contact:document.querySelector(".page.contact")},aboutPageParagraph:document.querySelector(".page.about div p")};const n=[];i.init.apply(i);class a{constructor(t,e=!1){n.push(this),this.element=t,this.polygon=this.createMask(this.element),this.defaultSpeed=.03,this.speed=1,this.visible=e,e?(this.points=this.generatePoints(1,1),this.targetPoints=this.generatePoints(1,1)):(this.points=this.generatePoints(1,0),this.targetPoints=this.generatePoints(1,0));let i="";this.points.forEach((t=>i+="".concat(t.x," ").concat(t.y," "))),this.polygon.setAttribute("points",i),this.element.style.visibility="visible"}createMask(t){const e="".concat(t.className.split("")[0]).concat((1e3,Math.floor(Math.random()*Math.floor(1e3))));const i=document.createElementNS("http://www.w3.org/2000/svg","clipPath");i.id=e,i.setAttribute("clipPathUnits","objectBoundingBox");const n=document.createElementNS("http://www.w3.org/2000/svg","polygon");return s.masksContainer.appendChild(i),i.appendChild(n),t.style.clipPath="url(#".concat(e,")"),n}generatePoints(t,e){return[{x:0,y:0},{x:t,y:0},{x:t,y:e},{x:0,y:e},{x:0,y:0}]}hide(t){this.visible=!1,t&&(this.speed=t),this.targetPoints=this.generatePoints(1,0)}show(t){this.visible=!0,t&&(this.speed=t),this.targetPoints=this.generatePoints(1,1)}update(){this.points.forEach(((e,i)=>{this.points[i].x=t(this.points[i].x,this.targetPoints[i].x,this.defaultSpeed*this.speed)})),this.points[2].y=t(this.points[2].y,this.targetPoints[2].y,this.defaultSpeed*this.speed),this.points[3].y=t(this.points[3].y,this.targetPoints[3].y,this.defaultSpeed*this.speed/3)}draw(){let t="";this.points.forEach((e=>t+="".concat(e.x," ").concat(e.y," "))),this.polygon.setAttribute("points",t)}}class o{constructor(t){this.element=t}changeOpacity(t){this.element.style.opacity=t}changeTranslate(t,e){this.element.style.transform="translate".concat(t,"(").concat(e,")")}}class h extends o{constructor(t,e){super(t),e={outline:!1,fill:!1,...e},this.containerElement=t,this.outlineElement=this.containerElement.querySelector(".outline"),this.outline=new a(this.outlineElement,e.outline),this.fillElement=this.containerElement.querySelector(".fill"),this.fill=new a(this.fillElement,e.fill),this.containerElement.style.visibility="visible"}hideOutline(t){this.outline.hide(t)}hideFill(t){this.fill.hide(t)}showOutline(t){this.outline.show(t)}showFill(t){this.fill.show(t)}}const r=new THREE.Scene,l=new THREE.OBJLoader;class c extends THREE.PerspectiveCamera{constructor(){super(75,window.innerWidth/window.innerHeight,.1,1e3),this.lerpSpeed=.03,this.positionTarget={x:0,y:0,z:3},this.rotationTarget={x:0,y:0,z:0},this.needsUpdate=!1}update(){!1!==this.needsUpdate&&(this.rotationTarget.x=i.y/window.innerHeight/3,this.rotationTarget.z=i.x/window.innerWidth/2,this.position.x=t(this.position.x,this.positionTarget.x,this.lerpSpeed),this.position.z=t(this.position.z,this.positionTarget.z,this.lerpSpeed),this.rotation.x=t(this.rotation.x,this.rotationTarget.x,this.lerpSpeed),this.rotation.z=t(this.rotation.z,this.rotationTarget.z,this.lerpSpeed))}}const d=new c,p={};document.addEventListener("keydown",(t=>p[t.keyCode]=!0)),document.addEventListener("keyup",(t=>p[t.keyCode]=!1));const u=new THREE.WebGLRenderer({alpha:!0});u.setSize(window.innerWidth,window.innerHeight),window.addEventListener("resize",(()=>{d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)}));const g=new THREE.PointLight(16777215,5,100);g.position.set(50,50,50),r.add(g);class m extends THREE.Object3D{constructor(t){super(),this.material=null,l.load(t,(t=>{t.traverse((t=>{t.material&&(t.material.side=THREE.DoubleSide,this.material=t.material,t.material.transparent=!0)})),this.add(t)})),r.add(this),this.lerpSpeed=.03,this.rotationTarget={x:0,y:0},this.spinRate={x:1,y:1},this.offset={x:0,y:0}}updateRotation(){this.rotationTarget.x=i.y/window.innerHeight*this.spinRate.x+this.offset.x,this.rotationTarget.y=i.x/window.innerWidth*this.spinRate.y+this.offset.y,this.rotation.x=t(this.rotation.x,this.rotationTarget.x,this.lerpSpeed),this.rotation.y=t(this.rotation.y,this.rotationTarget.y,this.lerpSpeed)}}class y extends m{constructor(t){super(t),this.positionTarget={x:0,z:0},this.carouselPosition=null,this.opacity=1}focus(){this.opacity=1,this.spinRate={x:2,y:5},this.offset.x=1}unfocus(){this.opacity=.3,this.spinRate={x:1,y:1},this.offset={x:0,y:0}}updateCarouselPosition(t,e,i){switch(this.carouselPosition=t,t){case 0:this.positionTarget.x=0,this.positionTarget.z=0,this.focus();break;case 1:this.positionTarget.x=e,this.positionTarget.z=-i,this.unfocus();break;case 2:this.positionTarget.x=0,this.positionTarget.z=2*-i,this.unfocus();break;case 3:this.positionTarget.x=-e,this.positionTarget.z=-i,this.unfocus()}}updatePosition(){this.position.x=t(this.position.x,this.positionTarget.x,this.lerpSpeed),this.position.z=t(this.position.z,this.positionTarget.z,this.lerpSpeed)}updateOpacity(){this.material&&(this.material.opacity=t(this.material.opacity,this.opacity,this.lerpSpeed))}update(){this.updateRotation(),this.updatePosition(),this.updateOpacity()}}const w=.6;document.body.appendChild(u.domElement),s.aboutPageParagraph.innerHTML="\n    Hello, my name is <span>Cristian Aguilar</span> and Iâ€™m a <span>3D modeler and generalist</span> focusing on <span>hard surface poly modeling</span> and <span>digital sculpting</span>. As a multidisciplinary visual artist, I developed a variety of skills including <span>character modeling</span>, <span>procedural digital landscape generation</span>, <span>lighting</span>, and <span>texturing</span>.\n    <br><br>\n    I have a passion for other artistic fields such as <span>photography</span>, <span>video production</span>, <span>sound design</span>, <span>digital illustration</span>, and <span>2D animation</span>. With the skills, knowledge, and training in visual art already developed, I continue to learn new mediums and techniques. I love <span>sound design</span> and am a <span>music hobbyist</span>, creating music and sounds for personal works as a self-taught artist. A big enthusiast of video games, my passion pushed me to pursue a career in 3D modeling and animation in the games industry.\n  ";const v=new class{constructor(t,e,i=!0){this.models=[],this.xDistance=t,this.zDistance=e,this.needsUpdate=i,this.halt=!1,this.haltTimeout=null,this.delay=1e3,this.input()}input(){window.addEventListener("keyup",(t=>{"ArrowLeft"===t.code&&this.previous(),"ArrowRight"===t.code&&this.next()}))}addModels(t){t.forEach((t=>{this.models.push(new y(t));const e=this.models[this.models.length-1];return e.updateCarouselPosition(this.models.length-1,this.xDistance,this.zDistance),e}))}updateCarouselPositions(){this.models.forEach((t=>{t.updateCarouselPosition(t.carouselPosition,this.xDistance,this.zDistance)}))}applyHalt(){this.halt=!0,clearTimeout(this.haltTimeout),this.haltTimeout=setTimeout((()=>{this.halt=!1}),this.delay)}next(){this.halt||(this.models.forEach((t=>{let e=t.carouselPosition+1;e===this.models.length&&(e=0),t.updateCarouselPosition(e,this.xDistance,this.zDistance)})),this.applyHalt())}previous(){this.halt||(this.models.forEach((t=>{let e=t.carouselPosition-1;-1===e&&(e=this.models.length-1),t.updateCarouselPosition(e,this.xDistance,this.zDistance)})),this.applyHalt())}update(){!1!==this.needsUpdate&&this.models.forEach((t=>t.update()))}}(5,3,!1);v.addModels(["./assets/Magma_Hills.obj","./assets/Magma_Hills.obj","./assets/Magma_Hills.obj","./assets/Magma_Hills.obj"]);const x=new o(document.querySelector("canvas")),b=new h(s.logo),f=new o(s.menu),E=new h(s.name,{fill:!1,outline:!0}),S=new h(s.tagline,{fill:!1,outline:!0}),T=new a(s.navButtons),P={work:new h(s.banners.work),about:new h(s.banners.about),contact:new h(s.banners.contact)},k={work:new o(s.pages.work),about:new o(s.pages.about),contact:new o(s.pages.contact)};s.name.style.opacity=0,s.tagline.style.opacity=0;const O=()=>{window.requestAnimationFrame(O),n.forEach((t=>{t.update(),t.draw()})),v.update(),d.update(),u.render(r,d)};new class{constructor(){this.selected="work",this.menuItems=["work","about","contact"],this.logoInput(),this.navInput()}logoInput(){s.logo.addEventListener("mouseover",(()=>{b.hideFill(2),b.changeOpacity(w)})),s.logo.addEventListener("mouseout",(()=>{b.showFill(2),b.changeOpacity(1)}))}navInput(){this.menuItems.map((t=>{const e=s.buttons[t],i=P[t],n=(k[t],()=>e.innerHTML.toLowerCase()===this.selected.toLowerCase());e.addEventListener("mouseover",(()=>{n()||(i.showOutline(2),P[this.selected].changeOpacity(.2))})),e.addEventListener("mouseout",(()=>{n()||(i.changeOpacity(w),i.hideOutline(2),P[this.selected].changeOpacity(w))})),e.addEventListener("click",(()=>{n()||(P[this.selected].changeOpacity(w),P[this.selected].hideOutline(2),k[this.selected].changeOpacity(0),s.buttons[this.selected].classList.remove("selected"),"work"===t?this.activateCanvas():this.deactivateCanvas(),this.selected=t,k[this.selected].changeOpacity(1),s.buttons[this.selected].classList.add("selected"))}))}))}activateCanvas(){x.changeOpacity(1),d.needsUpdate=!0,v.needsUpdate=!0}deactivateCanvas(){x.changeOpacity(0),d.needsUpdate=!1,v.needsUpdate=!1}},(async()=>{await e(1),E.changeOpacity(1),E.showFill(),await e(5e3),b.showFill(),b.showOutline(),E.changeOpacity(.2),E.hideFill(),S.changeOpacity(1),S.showFill(),x.changeOpacity(1),v.needsUpdate=!0,d.needsUpdate=!0,await e(4e3),S.hideFill(),S.hideOutline(),T.show(),P.work.showOutline(),f.changeTranslate("y","calc(50vh - 20%)")})(),window.requestAnimationFrame(O)}();